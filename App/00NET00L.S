;;<<Default Template>><<NETWORK>><<Default>>;;
; Do not change filenames or add or remove FILEI/FILEO statements using an editor. Use Cube/Application Manager.
RUN PGM=NETWORK MSG='PM'
FILEO NETO = "{SCENARIO_DIR}\LOADED_PM.NET",
EXCLUDE=HRCAP,FFSPD,TOLL,TIME1,TIME2,LINKGRP1,LINKGRP2,LINKGRP3,ASGNGRP,USER,COST,TWOWAY,
VOLUME,DIRCODE,VOLPURP1,CGSTDTIME,V_1,TIME_1,VC_1,VT_1,CSPD_1,VDT_1,VHT_1,V1_1,V2_1,V3_1,V4_1,V5_1,V6_1,V7_1,V8_1,V1T_1,V2T_1,V3T_1,V4T_1,V5T_1,
V6T_1,V7T_1,V8T_1,LW_TOLL_1,LW_DUMMY_TIME_1,LW_CGTIME_1
FILEI LINKI[3] = "{SCENARIO_DIR}\LOADED_HOUR19.NET"
FILEI LINKI[2] = "{SCENARIO_DIR}\LOADED_HOUR18.NET"
FILEI LINKI[1] = "{SCENARIO_DIR}\LOADED_HOUR17.NET"

MERGE RECORD=FALSE
V_HR17_SOV = LI.1.V1_1 + LI.1.V2_1 + LI.1.V3_1 
V_HR17_HOV = LI.1.V4_1 + LI.1.V5_1 + LI.1.V6_1
V_HR17_TRK = LI.1.V7_1 + LI.1.V8_1

V_HR18_SOV = LI.2.V1_1 + LI.2.V2_1 + LI.2.V3_1 
V_HR18_HOV = LI.2.V4_1 + LI.2.V5_1 + LI.2.V6_1
V_HR18_TRK = LI.2.V7_1 + LI.2.V8_1

V_HR19_SOV = LI.3.V1_1 + LI.3.V2_1 + LI.3.V3_1 
V_HR19_HOV = LI.3.V4_1 + LI.3.V5_1 + LI.3.V6_1
V_HR19_TRK = LI.3.V7_1 + LI.3.V8_1

V_HR17_TOT = V_HR17_SOV + V_HR17_HOV + V_HR17_TRK
V_HR18_TOT = V_HR18_SOV + V_HR18_HOV + V_HR18_TRK
V_HR19_TOT = V_HR19_SOV + V_HR19_HOV + V_HR19_TRK

PM_SOV = V_HR17_SOV + V_HR18_SOV + V_HR19_SOV
PM_HOV = V_HR17_HOV + V_HR18_HOV + V_HR19_HOV
PM_TRK = V_HR17_TRK + V_HR18_TRK + V_HR19_TRK

PM_TOT = PM_SOV + PM_HOV + PM_TRK

; VC Ratio
VC_RATIO_HR17 = LI.1.VC_1
VC_RATIO_HR18 = LI.2.VC_1
VC_RATIO_HR19 = LI.3.VC_1

; Toll
TOLL_HR17 = LI.1.LW_TOLL_1
TOLL_HR18 = LI.2.LW_TOLL_1
TOLL_HR19 = LI.3.LW_TOLL_1

; Congested Speed (CSPD)
CSPD_HR17 = LI.1.DISTANCE/LI.1.LW_CGTIME_1*60
CSPD_HR18 = LI.2.DISTANCE/LI.2.LW_CGTIME_1*60
CSPD_HR19 = LI.3.DISTANCE/LI.3.LW_CGTIME_1*60

; MSA Time
TIME_HR17 = LI.1.LW_CGTIME_1
TIME_HR18 = LI.2.LW_CGTIME_1
TIME_HR19 = LI.3.LW_CGTIME_1

;V_HR17_SL = LI.1.V11_1+LI.1.V12_1+LI.1.V13_1+LI.1.V14_1+LI.1.V15_1+LI.1.V16_1+LI.1.V17_1+LI.1.V18_1
;V_HR18_SL = LI.2.V11_1+LI.2.V12_1+LI.2.V13_1+LI.2.V14_1+LI.2.V15_1+LI.2.V16_1+LI.2.V17_1+LI.2.V18_1
;V_HR19_SL = LI.3.V11_1+LI.3.V12_1+LI.3.V13_1+LI.3.V14_1+LI.3.V15_1+LI.3.V16_1+LI.3.V17_1+LI.3.V18_1
;PM_TOT_SL = V_HR17_SL+V_HR18_SL+V_HR19_SL
ENDRUN
