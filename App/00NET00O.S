;;<<Default Template>><<NETWORK>><<Default>>;;
; Do not change filenames or add or remove FILEI/FILEO statements using an editor. Use Cube/Application Manager.
RUN PGM=NETWORK MSG='NT2'
FILEI LINKI[7] = "{SCENARIO_DIR}\LOADED_HOUR7.NET"
FILEI LINKI[6] = "{SCENARIO_DIR}\LOADED_HOUR6.NET"
FILEI LINKI[5] = "{SCENARIO_DIR}\LOADED_HOUR5.NET"
FILEI LINKI[4] = "{SCENARIO_DIR}\LOADED_HOUR4.NET"
FILEO NETO = "{SCENARIO_DIR}\LOADED_NT2.NET",
EXCLUDE=HRCAP,FFSPD,TOLL,TIME1,TIME2,LINKGRP1,LINKGRP2,LINKGRP3,ASGNGRP,USER,COST,TWOWAY,
VOLUME,DIRCODE,VOLPURP1,CGSTDTIME,V_1,TIME_1,VC_1,VT_1,CSPD_1,VDT_1,VHT_1,V1_1,V2_1,V3_1,V4_1,V5_1,V6_1,V7_1,V8_1,V1T_1,V2T_1,V3T_1,V4T_1,V5T_1,
V6T_1,V7T_1,V8T_1,LW_TOLL_1,LW_DUMMY_TIME_1,LW_CGTIME_1,LW_TOLL_REV_1
FILEI LINKI[3] = "{SCENARIO_DIR}\LOADED_HOUR3.NET"
FILEI LINKI[2] = "{SCENARIO_DIR}\LOADED_HOUR2.NET"
FILEI LINKI[1] = "{SCENARIO_DIR}\LOADED_HOUR1.NET"

MERGE RECORD=FALSE
V_HR1_SOV = LI.1.V1_1 + LI.1.V2_1 + LI.1.V3_1 
V_HR1_HOV = LI.1.V4_1 + LI.1.V5_1 + LI.1.V6_1
V_HR1_TRK = LI.1.V7_1 + LI.1.V8_1

V_HR2_SOV = LI.2.V1_1 + LI.2.V2_1 + LI.2.V3_1 
V_HR2_HOV = LI.2.V4_1 + LI.2.V5_1 + LI.2.V6_1
V_HR2_TRK = LI.2.V7_1 + LI.2.V8_1

V_HR3_SOV = LI.3.V1_1 + LI.3.V2_1 + LI.3.V3_1 
V_HR3_HOV = LI.3.V4_1 + LI.3.V5_1 + LI.3.V6_1
V_HR3_TRK = LI.3.V7_1 + LI.3.V8_1

V_HR4_SOV = LI.4.V1_1 + LI.4.V2_1 + LI.4.V3_1 
V_HR4_HOV = LI.4.V4_1 + LI.4.V5_1 + LI.4.V6_1
V_HR4_TRK = LI.4.V7_1 + LI.4.V8_1

V_HR5_SOV = LI.5.V1_1 + LI.5.V2_1 + LI.5.V3_1 
V_HR5_HOV = LI.5.V4_1 + LI.5.V5_1 + LI.5.V6_1
V_HR5_TRK = LI.5.V7_1 + LI.5.V8_1

V_HR6_SOV = LI.6.V1_1 + LI.6.V2_1 + LI.6.V3_1 
V_HR6_HOV = LI.6.V4_1 + LI.6.V5_1 + LI.6.V6_1
V_HR6_TRK = LI.6.V7_1 + LI.6.V8_1

V_HR7_SOV = LI.7.V1_1 + LI.7.V2_1 + LI.7.V3_1 
V_HR7_HOV = LI.7.V4_1 + LI.7.V5_1 + LI.7.V6_1
V_HR7_TRK = LI.7.V7_1 + LI.7.V8_1

V_HR1_TOT = V_HR1_SOV + V_HR1_HOV + V_HR1_TRK
V_HR2_TOT = V_HR2_SOV + V_HR2_HOV + V_HR2_TRK
V_HR3_TOT = V_HR3_SOV + V_HR3_HOV + V_HR3_TRK
V_HR4_TOT = V_HR4_SOV + V_HR4_HOV + V_HR4_TRK
V_HR5_TOT = V_HR5_SOV + V_HR5_HOV + V_HR5_TRK
V_HR6_TOT = V_HR6_SOV + V_HR6_HOV + V_HR6_TRK
V_HR7_TOT = V_HR7_SOV + V_HR7_HOV + V_HR7_TRK

NT2_SOV = V_HR1_SOV + V_HR2_SOV + V_HR3_SOV + V_HR4_SOV + V_HR5_SOV + V_HR6_SOV + V_HR7_SOV
NT2_HOV = V_HR1_HOV + V_HR2_HOV + V_HR3_HOV + V_HR4_HOV + V_HR5_HOV + V_HR6_HOV + V_HR7_HOV
NT2_TRK = V_HR1_TRK + V_HR2_TRK + V_HR3_TRK + V_HR4_TRK + V_HR5_TRK + V_HR6_TRK + V_HR7_TRK

NT2_TOT = NT2_SOV + NT2_HOV + NT2_TRK

; VC Ratio
VC_RATIO_HR1 = LI.1.VC_1
VC_RATIO_HR2 = LI.2.VC_1
VC_RATIO_HR3 = LI.3.VC_1
VC_RATIO_HR4 = LI.4.VC_1
VC_RATIO_HR5 = LI.5.VC_1
VC_RATIO_HR6 = LI.6.VC_1
VC_RATIO_HR7 = LI.7.VC_1

; Toll
TOLL_HR1 = LI.1.LW_TOLL_REV_1
TOLL_HR2 = LI.2.LW_TOLL_REV_1
TOLL_HR3 = LI.3.LW_TOLL_REV_1
TOLL_HR4 = LI.4.LW_TOLL_REV_1
TOLL_HR5 = LI.5.LW_TOLL_REV_1
TOLL_HR6 = LI.6.LW_TOLL_REV_1
TOLL_HR7 = LI.7.LW_TOLL_REV_1

; Congested Speed (CSPD)
CSPD_HR1 = LI.1.DISTANCE/LI.1.LW_CGTIME_1*60
CSPD_HR2 = LI.2.DISTANCE/LI.2.LW_CGTIME_1*60
CSPD_HR3 = LI.3.DISTANCE/LI.3.LW_CGTIME_1*60
CSPD_HR4 = LI.4.DISTANCE/LI.4.LW_CGTIME_1*60
CSPD_HR5 = LI.5.DISTANCE/LI.5.LW_CGTIME_1*60
CSPD_HR6 = LI.6.DISTANCE/LI.6.LW_CGTIME_1*60
CSPD_HR7 = LI.7.DISTANCE/LI.7.LW_CGTIME_1*60

;Time
TIME_HR1 = LI.1.LW_CGTIME_1
TIME_HR2 = LI.2.LW_CGTIME_1
TIME_HR3 = LI.3.LW_CGTIME_1
TIME_HR4 = LI.4.LW_CGTIME_1
TIME_HR5 = LI.5.LW_CGTIME_1
TIME_HR6 = LI.6.LW_CGTIME_1
TIME_HR7 = LI.7.LW_CGTIME_1

;V_HR1_SL = LI.1.V11_1+LI.1.V12_1+LI.1.V13_1+LI.1.V14_1+LI.1.V15_1+LI.1.V16_1+LI.1.V17_1+LI.1.V18_1
;V_HR2_SL = LI.2.V11_1+LI.2.V12_1+LI.2.V13_1+LI.2.V14_1+LI.2.V15_1+LI.2.V16_1+LI.2.V17_1+LI.2.V18_1
;V_HR3_SL = LI.3.V11_1+LI.3.V12_1+LI.3.V13_1+LI.3.V14_1+LI.3.V15_1+LI.3.V16_1+LI.3.V17_1+LI.3.V18_1
;V_HR4_SL = LI.4.V11_1+LI.4.V12_1+LI.4.V13_1+LI.4.V14_1+LI.4.V15_1+LI.4.V16_1+LI.4.V17_1+LI.4.V18_1
;V_HR5_SL = LI.5.V11_1+LI.5.V12_1+LI.5.V13_1+LI.5.V14_1+LI.5.V15_1+LI.5.V16_1+LI.5.V17_1+LI.5.V18_1
;V_HR6_SL = LI.6.V11_1+LI.6.V12_1+LI.6.V13_1+LI.6.V14_1+LI.6.V15_1+LI.6.V16_1+LI.6.V17_1+LI.6.V18_1
;V_HR7_SL = LI.7.V11_1+LI.7.V12_1+LI.7.V13_1+LI.7.V14_1+LI.7.V15_1+LI.7.V16_1+LI.7.V17_1+LI.7.V18_1
;NT2_TOT_SL = V_HR1_SL+V_HR2_SL+V_HR3_SL+V_HR4_SL+V_HR5_SL+V_HR6_SL+V_HR7_SL
ENDRUN
